---
const { props } = Astro;
const imagePath = "../../assets/images" + props.image;
import Image from "astro/components/Image.astro";
import { getImage } from "astro:assets";

console.log(props);
const images = import.meta.glob<{ default: ImageMetadata }>(
  "./../../assets/images/**/*.{jpeg,jpg,png,gif}"
);
console.log(images);
if (!images[imagePath])
  throw new Error(
    `"${props.image}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`
  );


---

<figure>
  <Image src={images[imagePath]()} alt={props.altText} />
  {props.caption && <figcaption>{props.caption}</figcaption>}
</figure>
